<p style="color: green"><%= notice %></p>

<%= render @post %>

<div>
  <% like = current_user.likes.find_by(post: @post) %>
  <% if like.nil? %>
    <form action="/likes" method="post">
      <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
      <input type="hidden" name="like[post_id]" value="<%= @post.id %>">
      <input type="submit" value="Like">
    </form>
  <% else %>
    <form action="<%= like_path(like)%>" method="post">
      <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
      <input type="hidden" name="_method" value="DELETE">
      <input type="submit" value="Unlike">
    </form>
  <% end %>
  <%= @post.likes.count %>
  <%= link_to "Edit this post", edit_post_path(@post) %> |
  <%= link_to "Back to posts", posts_path %>

  <%= button_to "Destroy this post", method: :delete %>
  
</div>
